<section class="py-12 py-md-16 py-lg-24">
  <div class="container">
    <h3 class="font-heading mb-10">FAQ</h3>
    <div class="row">
      <% data.content.faq.keys.reject { |key| key == "title" }.each_slice((data.content.faq.size - 1) / 2.0).to_a.each_with_index do |slice, column_index| %>
        <div class="col-lg-6">
          <% slice.each_with_index do |item, index| %>
            <div class="accordion mb-2" id="accordion-<%= column_index %>-<%= index %>">
              <div class="accordion-item">
                <h2 class="accordion-header" id="heading-<%= column_index %>-<%= index %>">
                  <button class="accordion-button btn btn-link border-0 border-bottom border-light p-6 w-100 justify-content-between align-items-center text-start text-black rounded-0 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-<%= column_index %>-<%= index %>" aria-expanded="false" aria-controls="collapse-<%= column_index %>-<%= index %>">
                    <span class="mw-md display-5 fw-bold mb-0 me-6"><%= data.content.faq[item].q %></span>
                    <svg class="flex-shrink-0" width="32" height="32" viewbox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <g clip-path="url(#clip0_107_9284)">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M16 2.66669C8.63586 2.66669 2.66663 8.63592 2.66663 16C2.66663 23.3641 8.63586 29.3334 16 29.3334C23.3641 29.3334 29.3333 23.3641 29.3333 16C29.3333 8.63592 23.3641 2.66669 16 2.66669ZM17.0256 11.8975C17.0256 11.6254 16.9175 11.3646 16.7252 11.1722C16.5329 10.9799 16.272 10.8718 16 10.8718C15.7279 10.8718 15.4671 10.9799 15.2747 11.1722C15.0824 11.3646 14.9743 11.6254 14.9743 11.8975V14.9744H11.8974C11.6254 14.9744 11.3645 15.0824 11.1722 15.2748C10.9798 15.4671 10.8718 15.728 10.8718 16C10.8718 16.272 10.9798 16.5329 11.1722 16.7253C11.3645 16.9176 11.6254 17.0257 11.8974 17.0257H14.9743V20.1026C14.9743 20.3746 15.0824 20.6355 15.2747 20.8278C15.4671 21.0202 15.7279 21.1282 16 21.1282C16.272 21.1282 16.5329 21.0202 16.7252 20.8278C16.9175 20.6355 17.0256 20.3746 17.0256 20.1026V17.0257H20.1025C20.3745 17.0257 20.6354 16.9176 20.8278 16.7253C21.0201 16.5329 21.1282 16.272 21.1282 16C21.1282 15.728 21.0201 15.4671 20.8278 15.2748C20.6354 15.0824 20.3745 14.9744 20.1025 14.9744H17.0256V11.8975Z" fill="#FF7100"></path>
                      </g>
                    </svg>
                  </button>
                </h2>
                <div id="collapse-<%= column_index %>-<%= index %>" class="accordion-collapse collapse" aria-labelledby="heading-<%= column_index %>-<%= index %>" data-bs-parent="#accordion-<%= column_index %>-<%= index %>">
                  <div class="accordion-body text-black">
                    <%= data.content.faq[item].a %>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var accordionButtons = document.querySelectorAll('.accordion-button');
    accordionButtons.forEach(function (button) {
      button.addEventListener('click', function () {
        var collapse = button.closest('.accordion-item').querySelector('.accordion-collapse');
        collapse.classList.toggle('show');
        button.classList.toggle('collapsed');
      });
    });
  });
</script>
